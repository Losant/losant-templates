<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>Log In</title>
  </head>
  <body class="p-5">
    <div class="container-fluid">
      <div class="row justify-content-center">
        <div class="col-lg-4 col-md-6 col-sm-12">
          <div style="max-width: 300px; margin: 0 auto 20px; text-align: center;">
            <img class="img-fluid" src="https://~exportplaceholderid-app-url~/images/kanarra/kanarra_full.png" alt="Big Logo">
          </div>

          {{!
            If the credentials are incorrect, the workflow redirects back to this page
            with pageData.loginFailure set to true. Check for that value and
            show an error message if needed.
          }}
          
          {{#if pageData.loginFailure}}
            <div class="alert alert-danger" role="alert">
              Incorrect email or password.
            </div>
          {{/if}}

          <div class="alert alert-secondary" role="alert">
            <p>
              This example form shows how a user can submit data from an
              <a href="https://~exportplaceholderid-docs-url~/experiences/views/#pages" target="_blank">Experience Page</a> to a
              <a href="https://~exportplaceholderid-docs-url~/workflows/experience-workflows/" target="_blank">Losant Workflow</a>.
            </p>
            <p>
              1. When the "Login with SSO" button is pressed, the user is redirected to
              <code>GET /tl-saml</code> and an Expereince Workflow is triggered.
            </p>
            <p>
              2. The user is redirected to Azure Active Directory.
            </p>
            <p>
              3. After signing in, the user will be redirected to <code>POST /tl-saml</code> where an Experience Workflow is triggerd.
              This workflow will verify the SAML response from Azure Active Directory and navigate to <code>GET /</code> if successful.
            </p>
          </div>
          
          {{!
            This button redirects the user to GET /tl-saml
          }}
          <form method="POST" action="">

            {{!
              The "name" attribute is the name of the field that you'll see in the workflow payload. So in this example,
              the workflow payload will contain an object with an "email" field set to whatever the user entered.

              The "name" field must be unique for each form element.
              The "id" field must be unique for each element on this page.
            }}
            <div class="form-group">
              <label for="exampleFormControl1">Email address</label>
              <input type="email" class="form-control" placeholder="name@example.com" id="exampleFormControl1" name="email">
            </div>

           <button type="submit" class="btn btn-primary">Log in with SSO</button>
          </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  </body>
</html>